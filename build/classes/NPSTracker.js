class NPSTracker{constructor(t=1e3,i=1024){this.windowMs=t,this.startTime=performance.now(),this.times=new Float64Array(i),this.capacity=i,this.head=0,this.tail=0,this.size=0}noteOn(){let t=performance.now()-this.startTime;this.times[this.head]=t,this.head=(this.head+1)%this.capacity,this.size<this.capacity?this.size++:this.tail=(this.tail+1)%this.capacity;let i=t-this.windowMs;for(;this.size>0&&this.times[this.tail]<i;)this.tail=(this.tail+1)%this.capacity,this.size--;return this.getNPS()}getNPS(){return this.size/(this.windowMs/1e3)}}"undefined"!=typeof module?module.exports=NPSTracker:globalThis.NPSTracker=NPSTracker;